<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_352) on Tue Nov 29 08:22:54 CST 2022 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ActionDBAccessorImpl (Ambari Server 3.0.0.0-SNAPSHOT API)</title>
<meta name="date" content="2022-11-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ActionDBAccessorImpl (Ambari Server 3.0.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ActionDBAccessorImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/ambari/server/actionmanager/ActionManager.html" title="class in org.apache.ambari.server.actionmanager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html" target="_top">Frames</a></li>
<li><a href="ActionDBAccessorImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.ambari.server.actionmanager</div>
<h2 title="Class ActionDBAccessorImpl" class="title">Class ActionDBAccessorImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.ambari.server.actionmanager.ActionDBAccessorImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ActionDBAccessorImpl</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#ActionDBAccessorImpl-long-org.apache.ambari.server.events.publishers.AmbariEventPublisher-">ActionDBAccessorImpl</a></span>(long&nbsp;cacheLimit,
                    <a href="../../../../../org/apache/ambari/server/events/publishers/AmbariEventPublisher.html" title="class in org.apache.ambari.server.events.publishers">AmbariEventPublisher</a>&nbsp;eventPublisher)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#abortHostRole-java.lang.String-long-long-java.lang.String-">abortHostRole</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
             long&nbsp;requestId,
             long&nbsp;stageId,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</code>
<div class="block">Mark the task as to have been aborted</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#abortHostRole-java.lang.String-long-long-java.lang.String-java.lang.String-">abortHostRole</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
             long&nbsp;requestId,
             long&nbsp;stageId,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reason)</code>
<div class="block">Mark the task as to have been aborted.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/ambari/server/orm/entities/HostRoleCommandEntity.html" title="class in org.apache.ambari.server.orm.entities">HostRoleCommandEntity</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#abortOperation-long-">abortOperation</a></span>(long&nbsp;requestId)</code>
<div class="block">Abort all outstanding operations associated with the given request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#bulkAbortHostRole-org.apache.ambari.server.actionmanager.Stage-java.util.Map-">bulkAbortHostRole</a></span>(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/ExecutionCommand.html" title="class in org.apache.ambari.server.agent">ExecutionCommand</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;commands)</code>
<div class="block">Bulk abort commands</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#bulkHostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.util.List-">bulkHostRoleScheduled</a></span>(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/ExecutionCommand.html" title="class in org.apache.ambari.server.agent">ExecutionCommand</a>&gt;&nbsp;commands)</code>
<div class="block">Bulk update scheduled commands</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#endRequest-long-">endRequest</a></span>(long&nbsp;requestId)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#endRequestIfCompleted-long-">endRequestIfCompleted</a></span>(long&nbsp;requestId)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getAllStages-long-">getAllStages</a></span>(long&nbsp;requestId)</code>
<div class="block">Get all stages associated with a single request id</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getAllTasksByRequestIds-java.util.Collection-">getAllTasksByRequestIds</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</code>
<div class="block">Given a list of request ids, get all the tasks that belong to these requests</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getCommandsInProgressCount--">getCommandsInProgressCount</a></span>()</code>
<div class="block">Gets the number of commands in progress.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getFirstStageInProgressPerRequest--">getFirstStageInProgressPerRequest</a></span>()</code>
<div class="block">Returns the next stage which is in-progress for every in-progress request
 in the system.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getLastPersistedRequestIdWhenInitialized--">getLastPersistedRequestIdWhenInitialized</a></span>()</code>
<div class="block">Return the last persisted Request ID as seen when the DBAccessor object
 was initialized.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequest-long-">getRequest</a></span>(long&nbsp;requestId)</code>
<div class="block">Get request object by id.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequestContext-java.util.List-">getRequestContext</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</code>
<div class="block">Gets request contexts associated with the list of request id</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequestContext-long-">getRequestContext</a></span>(long&nbsp;requestId)</code>
<div class="block">Gets the request context associated with the request id</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/ambari/server/orm/entities/RequestEntity.html" title="class in org.apache.ambari.server.orm.entities">RequestEntity</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequestEntity-long-">getRequestEntity</a></span>(long&nbsp;requestId)</code>
<div class="block">Gets the request entity by id.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequests-java.util.Collection-">getRequests</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</code>
<div class="block">Gets request objects by ids</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequestsByStatus-org.apache.ambari.server.actionmanager.RequestStatus-int-boolean-">getRequestsByStatus</a></span>(<a href="../../../../../org/apache/ambari/server/actionmanager/RequestStatus.html" title="enum in org.apache.ambari.server.actionmanager">RequestStatus</a>&nbsp;status,
                   int&nbsp;maxResults,
                   boolean&nbsp;ascOrder)</code>
<div class="block">Get first or last maxResults requests that are in the specified status</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getRequestTasks-long-">getRequestTasks</a></span>(long&nbsp;requestId)</code>
<div class="block">Given a request id, get all the tasks that belong to this request</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getStage-java.lang.String-">getStage</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;actionId)</code>
<div class="block">Given an action id of the form requestId-stageId, retrieve the Stage</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getStagesInProgressForRequest-java.lang.Long-">getStagesInProgressForRequest</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;requestId)</code>
<div class="block">Returns all the pending stages in a request, including queued and not-queued.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getTask-long-">getTask</a></span>(long&nbsp;taskId)</code>
<div class="block">Gets the host role command corresponding to the task id</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getTasks-java.util.Collection-">getTasks</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;taskIds)</code>
<div class="block">Given a list of task ids, get all the host role commands</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getTasksByHostRoleAndStatus-java.lang.String-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">getTasksByHostRoleAndStatus</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                           <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html" title="enum in org.apache.ambari.server.actionmanager">HostRoleStatus</a>&nbsp;status)</code>
<div class="block">Get a List of host role commands where the host, role and status are as specified</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#getTasksByRoleAndStatus-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">getTasksByRoleAndStatus</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                       <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html" title="enum in org.apache.ambari.server.actionmanager">HostRoleStatus</a>&nbsp;status)</code>
<div class="block">Get a List of host role commands where the role and status are as specified</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#hostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.lang.String-java.lang.String-">hostRoleScheduled</a></span>(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;roleStr)</code>
<div class="block">Updates scheduled stage.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#invalidateCommandCacheOnHostRemove-org.apache.ambari.server.events.HostsRemovedEvent-">invalidateCommandCacheOnHostRemove</a></span>(<a href="../../../../../org/apache/ambari/server/events/HostsRemovedEvent.html" title="class in org.apache.ambari.server.events">HostsRemovedEvent</a>&nbsp;event)</code>
<div class="block">Invalidate cached HostRoleCommands if a host is deleted.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#persistActions-org.apache.ambari.server.actionmanager.Request-">persistActions</a></span>(<a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a>&nbsp;request)</code>
<div class="block">Persists all tasks for a given request</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#resubmitTasks-java.util.List-">resubmitTasks</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;taskIds)</code>
<div class="block">Resubmits a series of tasks</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#setSourceScheduleForRequest-long-long-">setSourceScheduleForRequest</a></span>(long&nbsp;requestId,
                           long&nbsp;scheduleId)</code>
<div class="block">Updates request with link to source schedule</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#startRequest-long-">startRequest</a></span>(long&nbsp;requestId)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-">timeoutHostRole</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
               long&nbsp;requestId,
               long&nbsp;stageId,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</code>
<div class="block">Mark the task as to have timed out</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-boolean-boolean-">timeoutHostRole</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
               long&nbsp;requestId,
               long&nbsp;stageId,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
               boolean&nbsp;skipSupported,
               boolean&nbsp;hostUnknownState)</code>
<div class="block">Mark the task as to have timed out</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#updateHostRoleState-java.lang.String-long-long-java.lang.String-org.apache.ambari.server.agent.CommandReport-">updateHostRoleState</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                   long&nbsp;requestId,
                   long&nbsp;stageId,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                   <a href="../../../../../org/apache/ambari/server/agent/CommandReport.html" title="class in org.apache.ambari.server.agent">CommandReport</a>&nbsp;report)</code>
<div class="block">For the given host, update all the tasks based on the command report</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html#updateHostRoleStates-java.util.Collection-">updateHostRoleStates</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/CommandReport.html" title="class in org.apache.ambari.server.agent">CommandReport</a>&gt;&nbsp;reports)</code>
<div class="block">Update tasks according to command reports</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ActionDBAccessorImpl-long-org.apache.ambari.server.events.publishers.AmbariEventPublisher-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ActionDBAccessorImpl</h4>
<pre>@Inject
public&nbsp;ActionDBAccessorImpl(long&nbsp;cacheLimit,
                                    <a href="../../../../../org/apache/ambari/server/events/publishers/AmbariEventPublisher.html" title="class in org.apache.ambari.server.events.publishers">AmbariEventPublisher</a>&nbsp;eventPublisher)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStage-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStage</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;getStage(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;actionId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getStage-java.lang.String-">ActionDBAccessor</a></code></span></div>
<div class="block">Given an action id of the form requestId-stageId, retrieve the Stage</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getStage-java.lang.String-">getStage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllStages-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllStages</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;&nbsp;getAllStages(long&nbsp;requestId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getAllStages-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Get all stages associated with a single request id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getAllStages-long-">getAllStages</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequestEntity-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestEntity</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/ambari/server/orm/entities/RequestEntity.html" title="class in org.apache.ambari.server.orm.entities">RequestEntity</a>&nbsp;getRequestEntity(long&nbsp;requestId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestEntity-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Gets the request entity by id.  Will not load the entire
 Request/Stage/HostRoleCommand object hierarchy.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestEntity-long-">getRequestEntity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequest-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequest</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a>&nbsp;getRequest(long&nbsp;requestId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequest-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Get request object by id.  USE WITH CAUTION!  This method will
 result in loading the full object hierarchy, and can be expensive to
 construct.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequest-long-">getRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - the request id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Request instance, with all Stages and HostRoleCommands constructed
        from the database</dd>
</dl>
</li>
</ul>
<a name="abortOperation-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortOperation</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/ambari/server/orm/entities/HostRoleCommandEntity.html" title="class in org.apache.ambari.server.orm.entities">HostRoleCommandEntity</a>&gt;&nbsp;abortOperation(long&nbsp;requestId)</pre>
<div class="block">Abort all outstanding operations associated with the given request. This
 method uses the <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html#SCHEDULED_STATES"><code>HostRoleStatus.SCHEDULED_STATES</code></a> to determine which
 <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager"><code>HostRoleCommand</code></a> instances to abort.

 Returns the list of the aborted operations.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#abortOperation-long-">abortOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="timeoutHostRole-java.lang.String-long-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutHostRole</h4>
<pre>public&nbsp;void&nbsp;timeoutHostRole(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
                            long&nbsp;requestId,
                            long&nbsp;stageId,
                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-">ActionDBAccessor</a></code></span></div>
<div class="block">Mark the task as to have timed out</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-">timeoutHostRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="timeoutHostRole-java.lang.String-long-long-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeoutHostRole</h4>
<pre>public&nbsp;void&nbsp;timeoutHostRole(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
                            long&nbsp;requestId,
                            long&nbsp;stageId,
                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                            boolean&nbsp;skipSupported,
                            boolean&nbsp;hostUnknownState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-boolean-boolean-">ActionDBAccessor</a></code></span></div>
<div class="block">Mark the task as to have timed out</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#timeoutHostRole-java.lang.String-long-long-java.lang.String-boolean-boolean-">timeoutHostRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getStagesInProgressForRequest-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStagesInProgressForRequest</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;&nbsp;getStagesInProgressForRequest(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;requestId)</pre>
<div class="block">Returns all the pending stages in a request, including queued and not-queued. A stage is
 considered in progress if it is in progress for any host.
 <p/>
 The results will be sorted by stage ID making this call
 expensive in some scenarios. Use <a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getCommandsInProgressCount--"><code>ActionDBAccessor.getCommandsInProgressCount()</code></a> in
 order to determine if there are stages that are in progress before getting
 the stages from this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getStagesInProgressForRequest-java.lang.Long-">getStagesInProgressForRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html#IN_PROGRESS_STATUSES"><code>HostRoleStatus.IN_PROGRESS_STATUSES</code></a></dd>
</dl>
</li>
</ul>
<a name="getFirstStageInProgressPerRequest--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstStageInProgressPerRequest</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&gt;&nbsp;getFirstStageInProgressPerRequest()</pre>
<div class="block">Returns the next stage which is in-progress for every in-progress request
 in the system. Since stages are always synchronous, there is no reason to
 return more than the most recent stage per request. Returning every single
 stage in the requesrt would be extremely inffecient and wasteful. However,
 since requests can run in parallel, this method must return the most recent
 stage for every request. The results will be sorted by request ID.
 <p/>
 Use <a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getCommandsInProgressCount--"><code>ActionDBAccessor.getCommandsInProgressCount()</code></a> in order to determine if there
 are stages that are in progress before getting the stages from this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getFirstStageInProgressPerRequest--">getFirstStageInProgressPerRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html#IN_PROGRESS_STATUSES"><code>HostRoleStatus.IN_PROGRESS_STATUSES</code></a></dd>
</dl>
</li>
</ul>
<a name="getCommandsInProgressCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandsInProgressCount</h4>
<pre>public&nbsp;int&nbsp;getCommandsInProgressCount()</pre>
<div class="block">Gets the number of commands in progress.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getCommandsInProgressCount--">getCommandsInProgressCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of commands in progress.</dd>
</dl>
</li>
</ul>
<a name="persistActions-org.apache.ambari.server.actionmanager.Request-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistActions</h4>
<pre>public&nbsp;void&nbsp;persistActions(<a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a>&nbsp;request)
                    throws org.apache.ambari.server.AmbariException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#persistActions-org.apache.ambari.server.actionmanager.Request-">ActionDBAccessor</a></code></span></div>
<div class="block">Persists all tasks for a given request</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#persistActions-org.apache.ambari.server.actionmanager.Request-">persistActions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - request object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.ambari.server.AmbariException</code></dd>
</dl>
</li>
</ul>
<a name="startRequest-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRequest</h4>
<pre>public&nbsp;void&nbsp;startRequest(long&nbsp;requestId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#startRequest-long-">startRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="endRequest-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endRequest</h4>
<pre>public&nbsp;void&nbsp;endRequest(long&nbsp;requestId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#endRequest-long-">endRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="endRequestIfCompleted-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endRequestIfCompleted</h4>
<pre>public&nbsp;void&nbsp;endRequestIfCompleted(long&nbsp;requestId)</pre>
</li>
</ul>
<a name="setSourceScheduleForRequest-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSourceScheduleForRequest</h4>
<pre>public&nbsp;void&nbsp;setSourceScheduleForRequest(long&nbsp;requestId,
                                        long&nbsp;scheduleId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#setSourceScheduleForRequest-long-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Updates request with link to source schedule</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#setSourceScheduleForRequest-long-long-">setSourceScheduleForRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="updateHostRoleStates-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHostRoleStates</h4>
<pre>public&nbsp;void&nbsp;updateHostRoleStates(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/CommandReport.html" title="class in org.apache.ambari.server.agent">CommandReport</a>&gt;&nbsp;reports)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#updateHostRoleStates-java.util.Collection-">ActionDBAccessor</a></code></span></div>
<div class="block">Update tasks according to command reports</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#updateHostRoleStates-java.util.Collection-">updateHostRoleStates</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="updateHostRoleState-java.lang.String-long-long-java.lang.String-org.apache.ambari.server.agent.CommandReport-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHostRoleState</h4>
<pre>public&nbsp;void&nbsp;updateHostRoleState(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                                long&nbsp;requestId,
                                long&nbsp;stageId,
                                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                                <a href="../../../../../org/apache/ambari/server/agent/CommandReport.html" title="class in org.apache.ambari.server.agent">CommandReport</a>&nbsp;report)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#updateHostRoleState-java.lang.String-long-long-java.lang.String-org.apache.ambari.server.agent.CommandReport-">ActionDBAccessor</a></code></span></div>
<div class="block">For the given host, update all the tasks based on the command report</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#updateHostRoleState-java.lang.String-long-long-java.lang.String-org.apache.ambari.server.agent.CommandReport-">updateHostRoleState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="abortHostRole-java.lang.String-long-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortHostRole</h4>
<pre>public&nbsp;void&nbsp;abortHostRole(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
                          long&nbsp;requestId,
                          long&nbsp;stageId,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#abortHostRole-java.lang.String-long-long-java.lang.String-">ActionDBAccessor</a></code></span></div>
<div class="block">Mark the task as to have been aborted</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#abortHostRole-java.lang.String-long-long-java.lang.String-">abortHostRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="abortHostRole-java.lang.String-long-long-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortHostRole</h4>
<pre>public&nbsp;void&nbsp;abortHostRole(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
                          long&nbsp;requestId,
                          long&nbsp;stageId,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reason)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#abortHostRole-java.lang.String-long-long-java.lang.String-java.lang.String-">ActionDBAccessor</a></code></span></div>
<div class="block">Mark the task as to have been aborted. Reason should be specified manually.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#abortHostRole-java.lang.String-long-long-java.lang.String-java.lang.String-">abortHostRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastPersistedRequestIdWhenInitialized--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPersistedRequestIdWhenInitialized</h4>
<pre>public&nbsp;long&nbsp;getLastPersistedRequestIdWhenInitialized()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getLastPersistedRequestIdWhenInitialized--">ActionDBAccessor</a></code></span></div>
<div class="block">Return the last persisted Request ID as seen when the DBAccessor object
 was initialized.
 Value should remain unchanged through the lifetime of the object instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getLastPersistedRequestIdWhenInitialized--">getLastPersistedRequestIdWhenInitialized</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Request Id seen at init time</dd>
</dl>
</li>
</ul>
<a name="bulkHostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkHostRoleScheduled</h4>
<pre>public&nbsp;void&nbsp;bulkHostRoleScheduled(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/ExecutionCommand.html" title="class in org.apache.ambari.server.agent">ExecutionCommand</a>&gt;&nbsp;commands)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#bulkHostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.util.List-">ActionDBAccessor</a></code></span></div>
<div class="block">Bulk update scheduled commands</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#bulkHostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.util.List-">bulkHostRoleScheduled</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="bulkAbortHostRole-org.apache.ambari.server.actionmanager.Stage-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkAbortHostRole</h4>
<pre>public&nbsp;void&nbsp;bulkAbortHostRole(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/apache/ambari/server/agent/ExecutionCommand.html" title="class in org.apache.ambari.server.agent">ExecutionCommand</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;commands)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#bulkAbortHostRole-org.apache.ambari.server.actionmanager.Stage-java.util.Map-">ActionDBAccessor</a></code></span></div>
<div class="block">Bulk abort commands</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#bulkAbortHostRole-org.apache.ambari.server.actionmanager.Stage-java.util.Map-">bulkAbortHostRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="hostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostRoleScheduled</h4>
<pre>public&nbsp;void&nbsp;hostRoleScheduled(<a href="../../../../../org/apache/ambari/server/actionmanager/Stage.html" title="class in org.apache.ambari.server.actionmanager">Stage</a>&nbsp;s,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;roleStr)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#hostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.lang.String-java.lang.String-">ActionDBAccessor</a></code></span></div>
<div class="block">Updates scheduled stage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#hostRoleScheduled-org.apache.ambari.server.actionmanager.Stage-java.lang.String-java.lang.String-">hostRoleScheduled</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequestTasks-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestTasks</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;&nbsp;getRequestTasks(long&nbsp;requestId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestTasks-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Given a request id, get all the tasks that belong to this request</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestTasks-long-">getRequestTasks</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllTasksByRequestIds-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllTasksByRequestIds</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;&nbsp;getAllTasksByRequestIds(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getAllTasksByRequestIds-java.util.Collection-">ActionDBAccessor</a></code></span></div>
<div class="block">Given a list of request ids, get all the tasks that belong to these requests</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getAllTasksByRequestIds-java.util.Collection-">getAllTasksByRequestIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getTasks-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTasks</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;&nbsp;getTasks(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;taskIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasks-java.util.Collection-">ActionDBAccessor</a></code></span></div>
<div class="block">Given a list of task ids, get all the host role commands</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasks-java.util.Collection-">getTasks</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getTasksByHostRoleAndStatus-java.lang.String-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTasksByHostRoleAndStatus</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;&nbsp;getTasksByHostRoleAndStatus(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname,
                                                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                                                         <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html" title="enum in org.apache.ambari.server.actionmanager">HostRoleStatus</a>&nbsp;status)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasksByHostRoleAndStatus-java.lang.String-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">ActionDBAccessor</a></code></span></div>
<div class="block">Get a List of host role commands where the host, role and status are as specified</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasksByHostRoleAndStatus-java.lang.String-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">getTasksByHostRoleAndStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getTasksByRoleAndStatus-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTasksByRoleAndStatus</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&gt;&nbsp;getTasksByRoleAndStatus(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                                                     <a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleStatus.html" title="enum in org.apache.ambari.server.actionmanager">HostRoleStatus</a>&nbsp;status)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasksByRoleAndStatus-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">ActionDBAccessor</a></code></span></div>
<div class="block">Get a List of host role commands where the role and status are as specified</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTasksByRoleAndStatus-java.lang.String-org.apache.ambari.server.actionmanager.HostRoleStatus-">getTasksByRoleAndStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getTask-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTask</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/ambari/server/actionmanager/HostRoleCommand.html" title="class in org.apache.ambari.server.actionmanager">HostRoleCommand</a>&nbsp;getTask(long&nbsp;taskId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTask-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Gets the host role command corresponding to the task id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getTask-long-">getTask</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequestsByStatus-org.apache.ambari.server.actionmanager.RequestStatus-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestsByStatus</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;getRequestsByStatus(<a href="../../../../../org/apache/ambari/server/actionmanager/RequestStatus.html" title="enum in org.apache.ambari.server.actionmanager">RequestStatus</a>&nbsp;status,
                                      int&nbsp;maxResults,
                                      boolean&nbsp;ascOrder)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestsByStatus-org.apache.ambari.server.actionmanager.RequestStatus-int-boolean-">ActionDBAccessor</a></code></span></div>
<div class="block">Get first or last maxResults requests that are in the specified status</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestsByStatus-org.apache.ambari.server.actionmanager.RequestStatus-int-boolean-">getRequestsByStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - Desired request status</dd>
<dd><code>maxResults</code> - maximal number of returned id's</dd>
<dd><code>ascOrder</code> - defines sorting order for database query result</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>First or last maxResults request id's if ascOrder is true or false,
         respectively</dd>
</dl>
</li>
</ul>
<a name="getRequestContext-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestContext</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getRequestContext(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestContext-java.util.List-">ActionDBAccessor</a></code></span></div>
<div class="block">Gets request contexts associated with the list of request id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestContext-java.util.List-">getRequestContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequestContext-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestContext</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRequestContext(long&nbsp;requestId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestContext-long-">ActionDBAccessor</a></code></span></div>
<div class="block">Gets the request context associated with the request id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequestContext-long-">getRequestContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequests-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequests</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/ambari/server/actionmanager/Request.html" title="class in org.apache.ambari.server.actionmanager">Request</a>&gt;&nbsp;getRequests(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;requestIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequests-java.util.Collection-">ActionDBAccessor</a></code></span></div>
<div class="block">Gets request objects by ids</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#getRequests-java.util.Collection-">getRequests</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="resubmitTasks-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resubmitTasks</h4>
<pre>public&nbsp;void&nbsp;resubmitTasks(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;taskIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#resubmitTasks-java.util.List-">ActionDBAccessor</a></code></span></div>
<div class="block">Resubmits a series of tasks</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html#resubmitTasks-java.util.List-">resubmitTasks</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager">ActionDBAccessor</a></code></dd>
</dl>
</li>
</ul>
<a name="invalidateCommandCacheOnHostRemove-org.apache.ambari.server.events.HostsRemovedEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invalidateCommandCacheOnHostRemove</h4>
<pre>public&nbsp;void&nbsp;invalidateCommandCacheOnHostRemove(<a href="../../../../../org/apache/ambari/server/events/HostsRemovedEvent.html" title="class in org.apache.ambari.server.events">HostsRemovedEvent</a>&nbsp;event)</pre>
<div class="block">Invalidate cached HostRoleCommands if a host is deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - @HostRemovedEvent</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ActionDBAccessorImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/ambari/server/actionmanager/ActionDBAccessor.html" title="interface in org.apache.ambari.server.actionmanager"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/ambari/server/actionmanager/ActionManager.html" title="class in org.apache.ambari.server.actionmanager"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/ambari/server/actionmanager/ActionDBAccessorImpl.html" target="_top">Frames</a></li>
<li><a href="ActionDBAccessorImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022 <a href="https://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
